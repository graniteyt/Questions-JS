<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="test.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <h1>Пройдите тест по теме: "Программирование"</h1>
    <div id="container">
        <div id="question">

        </div>
        <ul></ul>

        <!-- Здесь должен быть конец -->

    </div>
    <script>
        const questions = [{
            id: 1,
            question: 'Какой самый популярный JavaScript фреймворк?',
            answers: ['Angular', 'Vue', 'React', 'NextJS'],
            current: 2
        }, {
            id: 2,
            question: 'Кто такой Линус  Торвальдс?',
            answers: ['Создатель Windows', 'Создатель FreeBSD', 'Создатель Linux'],
            current: 2
        }, {
            id: 3,
            question: 'Как называется надстройка над JavaScript со строгой типизацией?',
            answers: ['TypeScript', 'NodeJS', 'Java'],
            current: 0
        },
        {
            id: 4,
            question: "На чём основан JavaScript?",
            answers: ['C', 'Java', 'C++'],
            current: 1
        }]

        //====================

        let lengthArray = questions.length;
        let index = 0;
        let score = 0;
        showQ(index)

        function showQ(n) {
            document.getElementById('question').innerHTML = `
            <p class="quest">${questions[n].question}</p>`
            let qS = questions[n].answers
            for (let i = 0; i < qS.length; i++)
                document.querySelector('#container ul').innerHTML +=
                    `<li onclick=func(${i})>${qS[i]}</li>`
        }

        function func(m) {
            if (m == questions[index].current)
                score++;
            ++index;

            if (index < lengthArray) {
                console.log(index)
                document.getElementById('question').innerHTML = ''
                document.querySelector('#container ul').innerHTML = ''
                showQ(index)
            }
            else {
                finish()
            }
        }
        console.log(score)

        function finish() {
            document.getElementById('container').innerHTML = `<div id="result">
                <p id = "theEnd" > Вы набрали: ${score} / ${questions.length} </p>
                    <img id="js" src="https://www.datocms-assets.com/48401/1628644950-javascript.png?auto=format&fit=max&w=1200"
                        alt="JavaScript">
                        <p id="recommendations">Учись</p>
                    </div>`
        }

        //n - кол-во правильных ответов, m - количество вопросов
        function whoAreWho(n, m) {
            let procent = n / m;
            if (procent == 100)
                `Вы гений! <br> Вы ответили на все вопросы`
            else if (procent < 30) {
                `К сожалению все печально. Учи материал`
            }
            else {
                `В целом неплохо`
            }
        }

    </script>
    <script src="fn.js"></script>
</body>

</html>